Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-01 11:38:58,370 - __main__ - INFO - Server configuration:
2025-08-01 11:38:58,370 - __main__ - INFO -   Host: 0.0.0.0
2025-08-01 11:38:58,370 - __main__ - INFO -   Port: 5000
2025-08-01 11:38:58,370 - __main__ - INFO -   Debug: True
🚀 Using GPU acceleration for embeddings
🔧 Using Production LLM client: http://localhost:8000
✅ SQLite fallback table exists
✅ Qdrant client connected
📋 Existing collections: ['chat_messages', 'cat_rag', 'graphrag-test', 'prod1_chat', 'graphrag_collection', 'testStd', 'staging2', '興農公司_2', '興農公司_3', 'prod1_rooms', 'None', 'prod1', 'docs', '興農公司', 'staging3', 'staging1']
✅ Chat collection exists: prod1_chat
✅ Created room_id index for chat collection
✅ Rooms collection exists: prod1_rooms
✅ Chat collection validated: 30 points
✅ Rooms collection validated: 9 points
✅ Document collection validated: 3523 points
✅ All collections validated successfully
✅ Document collection exists: prod1
✅ Qdrant chat service initialized
🚀 Starting Sinon-RAG API Server...
✅ Ensured directory exists: data
✅ Ensured directory exists: data/uploads
✅ Ensured directory exists: logs
 * Serving Flask app 'src.API.app'
 * Debug mode: on
2025-08-01 11:38:58,372 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.103.138:5000
2025-08-01 11:38:58,372 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 11:38:58,373 - werkzeug - INFO -  * Restarting with stat
Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-01 11:39:10,009 - __main__ - INFO - Server configuration:
2025-08-01 11:39:10,009 - __main__ - INFO -   Host: 0.0.0.0
2025-08-01 11:39:10,009 - __main__ - INFO -   Port: 5000
2025-08-01 11:39:10,009 - __main__ - INFO -   Debug: True
2025-08-01 11:39:10,011 - werkzeug - WARNING -  * Debugger is active!
2025-08-01 11:39:10,011 - werkzeug - INFO -  * Debugger PIN: 124-400-982
2025-08-01 11:39:52,331 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points "HTTP/1.1 200 OK"
2025-08-01 11:39:52,394 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P8' is an invalid float value
2025-08-01 11:39:52,395 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P12' is an invalid float value
2025-08-01 11:39:53,273 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P36' is an invalid float value
2025-08-01 11:39:53,274 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P42' is an invalid float value
2025-08-01 11:39:54,764 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P62' is an invalid float value
2025-08-01 11:39:54,765 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,765 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P74' is an invalid float value
2025-08-01 11:39:54,765 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P82' is an invalid float value
2025-08-01 11:39:54,766 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P103' is an invalid float value
2025-08-01 11:39:54,766 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P124' is an invalid float value
2025-08-01 11:39:54,766 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,766 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P139' is an invalid float value
2025-08-01 11:39:54,767 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P147' is an invalid float value
2025-08-01 11:39:54,767 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P168' is an invalid float value
2025-08-01 11:39:54,767 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P189' is an invalid float value
2025-08-01 11:39:54,768 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,768 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P204' is an invalid float value
2025-08-01 11:39:54,768 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P212' is an invalid float value
2025-08-01 11:39:54,768 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P233' is an invalid float value
2025-08-01 11:39:54,768 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P254' is an invalid float value
2025-08-01 11:39:54,769 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,769 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P269' is an invalid float value
2025-08-01 11:39:54,769 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P277' is an invalid float value
2025-08-01 11:39:54,769 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P298' is an invalid float value
2025-08-01 11:39:54,769 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P319' is an invalid float value
2025-08-01 11:39:54,774 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,774 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P334' is an invalid float value
2025-08-01 11:39:54,774 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P342' is an invalid float value
2025-08-01 11:39:54,775 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P363' is an invalid float value
2025-08-01 11:39:54,775 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P384' is an invalid float value
2025-08-01 11:39:54,776 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,776 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P399' is an invalid float value
2025-08-01 11:39:54,776 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P407' is an invalid float value
2025-08-01 11:39:54,777 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P428' is an invalid float value
2025-08-01 11:39:54,777 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P449' is an invalid float value
2025-08-01 11:39:54,777 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,777 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P464' is an invalid float value
2025-08-01 11:39:54,778 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P472' is an invalid float value
2025-08-01 11:39:54,778 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P493' is an invalid float value
2025-08-01 11:39:54,778 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P514' is an invalid float value
2025-08-01 11:39:54,778 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,778 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P529' is an invalid float value
2025-08-01 11:39:54,779 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P537' is an invalid float value
2025-08-01 11:39:54,779 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P558' is an invalid float value
2025-08-01 11:39:54,779 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P579' is an invalid float value
2025-08-01 11:39:54,779 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P65' is an invalid float value
2025-08-01 11:39:54,779 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P594' is an invalid float value
2025-08-01 11:39:54,780 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P602' is an invalid float value
2025-08-01 11:39:54,780 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P623' is an invalid float value
2025-08-01 11:39:54,780 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P644' is an invalid float value
2025-08-01 11:40:04,340 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P769' is an invalid float value
2025-08-01 11:40:06,814 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P793' is an invalid float value
2025-08-01 11:40:06,814 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P799' is an invalid float value
2025-08-01 11:40:08,128 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P810' is an invalid float value
2025-08-01 11:40:08,128 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P812' is an invalid float value
2025-08-01 11:40:08,132 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P816' is an invalid float value
2025-08-01 11:40:08,132 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P818' is an invalid float value
2025-08-01 11:40:08,136 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P822' is an invalid float value
2025-08-01 11:40:08,136 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P824' is an invalid float value
2025-08-01 11:40:08,140 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P828' is an invalid float value
2025-08-01 11:40:08,140 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P830' is an invalid float value
2025-08-01 11:40:08,144 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P834' is an invalid float value
2025-08-01 11:40:08,144 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P836' is an invalid float value
2025-08-01 11:40:08,148 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P840' is an invalid float value
2025-08-01 11:40:08,148 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P842' is an invalid float value
2025-08-01 11:40:11,643 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P868' is an invalid float value
2025-08-01 11:40:11,643 - pdfminer.pdfinterp - WARNING - Cannot set gray non-stroke color because /'P874' is an invalid float value
/home/rtx4500ada/llm-project/sinon-RAG/src/data/node_builder.py:115: UserWarning: DataFrame columns are not unique, some columns will be omitted.
  for rec in data_df.to_dict(orient='records'):
Building prefix dict from the default dictionary ...
2025-08-01 11:40:12,961 - jieba - DEBUG - Building prefix dict from the default dictionary ...
Loading model from cache /tmp/jieba.cache
2025-08-01 11:40:12,961 - jieba - DEBUG - Loading model from cache /tmp/jieba.cache
Loading model cost 0.403 seconds.
2025-08-01 11:40:13,364 - jieba - DEBUG - Loading model cost 0.403 seconds.
Prefix dict has been built successfully.
2025-08-01 11:40:13,364 - jieba - DEBUG - Prefix dict has been built successfully.
🚀 Using GPU acceleration for embeddings
🔧 Using Production LLM client: http://localhost:8000
✅ SQLite fallback table exists
✅ Qdrant client connected
📋 Existing collections: ['chat_messages', 'cat_rag', 'graphrag-test', 'prod1_chat', 'graphrag_collection', 'testStd', 'staging2', '興農公司_2', '興農公司_3', 'prod1_rooms', 'None', 'prod1', 'docs', '興農公司', 'staging3', 'staging1']
✅ Chat collection exists: prod1_chat
✅ Created room_id index for chat collection
✅ Rooms collection exists: prod1_rooms
✅ Chat collection validated: 30 points
✅ Rooms collection validated: 9 points
✅ Document collection validated: 3523 points
✅ All collections validated successfully
✅ Document collection exists: prod1
✅ Qdrant chat service initialized
🚀 Starting Sinon-RAG API Server...
✅ Ensured directory exists: data
✅ Ensured directory exists: data/uploads
✅ Ensured directory exists: logs
📄 Processing PDF file: 2025年Q2法說會簡報-中文(20250515).pdf
🔄 Indexing PDF: 2025年Q2法說會簡報-中文(20250515).pdf
📄 Extracting text from 25 pages...
📊 Extracting tables using Camelot...
📊 Processing 11 tables...
🏗️  Building nodes from 25 pages...
📄 Page 1: 1 paragraphs, 0 table rows
📄 Page 2: 1 paragraphs, 0 table rows
📄 Page 3: 1 paragraphs, 0 table rows
📄 Page 4: 1 paragraphs, 0 table rows
📄 Page 5: 1 paragraphs, 0 table rows
📄 Page 6: 1 paragraphs, 0 table rows
📄 Page 7: 1 paragraphs, 0 table rows
📄 Page 8: 1 paragraphs, 0 table rows
📄 Page 9: 1 paragraphs, 0 table rows
📄 Page 10: 1 paragraphs, 0 table rows
📄 Page 11: 1 paragraphs, 0 table rows
📄 Page 12: 1 paragraphs, 0 table rows
📄 Page 13: 1 paragraphs, 0 table rows
📄 Page 14: 1 paragraphs, 0 table rows
📄 Page 15: 1 paragraphs, 0 table rows
📄 Page 16: 1 paragraphs, 0 table rows
📄 Page 17: 1 paragraphs, 0 table rows
📄 Page 18: 1 paragraphs, 0 table rows
📄 Page 19: 1 paragraphs, 0 table rows
📄 Page 20: 1 paragraphs, 0 table rows
📄 Page 21: 1 paragraphs, 3 table rows
📄 Page 22: 1 paragraphs, 0 table rows
📄 Page 23: 1 paragraphs, 0 table rows
📄 Page 24: 1 paragraphs, 0 table rows
📄 Page 25: 1 paragraphs, 0 table rows
✅ Built 28 total nodes
🔄 Preparing texts for batch embedding...
🧠 Generating embeddings for 31 texts...
Batches:   0%|          | 0/1 [00:00<?, ?it/s]/home/rtx4500ada/anaconda3/envs/sinon/lib/python3.12/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `BertSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
BertSdpaSelfAttention is used but `torch.nn.functional.scaled_dot_product_attention` does not support non-absolute `position_embedding_type` or `output_attentions=True` or `head_mask`. Falling back to the manual attention implementation, but specifying the manual implementation will be required from Transformers version v5.0.0 onwards. This warning can be removed using the argument `attn_implementation="eager"` when loading the model.
Batches: 100%|██████████| 1/1 [00:00<00:00,  4.17it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  4.16it/s]
2025-08-01 11:40:15,074 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points?wait=true "HTTP/1.1 200 OK"
   Processed 31/31 texts...
📤 Uploading 31 chunks in 1 batches...
📤 Uploading batch 1/1 (31 chunks)...
✅ Batch 1 uploaded successfully
✅ Successfully indexed 31/31 chunks from '/tmp/tmpi6uueq2i/2025年Q2法說會簡報-中文(20250515).pdf'
✅ Indexed 31 chunks from 2025年Q2法說會簡報-中文(20250515).pdf
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 96.44it/s]
2025-08-01 11:40:15,730 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
💾 Saved message 9c358094-ac89-43f0-bfee-077a77e9e3bb to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 133.67it/s]
2025-08-01 11:40:15,929 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-01 11:40:16,427 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-01 11:40:16,762 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-01 11:40:16,935 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-01 11:40:17,106 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-01 11:40:17,108 - src.rag.retriever - INFO - Found 9 unique document IDs in Qdrant
2025-08-01 11:40:17,112 - src.rag.retriever - INFO - Original query: what's the uploaed pdf is about?

[Uploaded PDF: 2025年Q2法說會簡報-中文(20250515).pdf - 31 chunks indexed]
2025-08-01 11:40:17,112 - src.rag.retriever - INFO - Cleaned query: what's the uploaed pdf is about? [Uploaded PDF: 2025年Q2法說會簡報-中文(20s indexed]
2025-08-01 11:40:17,112 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': ['250515).pdf - 31 chunk']}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 199.19it/s]
2025-08-01 11:40:17,445 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-01 11:40:17,610 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-01 11:40:17,611 - src.rag.retriever - INFO - 🔍 dense=0 keyword=0 → 0 unique hits [constraints: {'doc_ids': ['250515).pdf - 31 chunk']}]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 193.32it/s]
2025-08-01 11:40:17,939 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
💾 Saved message 2d8f3544-7977-4fb0-81f3-131224a11120 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 239.99it/s]
2025-08-01 11:40:18,125 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-01 11:40:18,128 - werkzeug - INFO - 192.168.103.45 - - [01/Aug/2025 11:40:18] "POST /api/chat/message HTTP/1.1" 200 -

Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-07 18:04:05,648 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:06,169 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:06,816 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:07,376 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:07,861 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:08,063 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/index?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:04:08,225 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:08,386 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat "HTTP/1.1 200 OK"
2025-08-07 18:04:08,547 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms "HTTP/1.1 200 OK"
2025-08-07 18:04:08,708 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1 "HTTP/1.1 200 OK"
2025-08-07 18:04:08,868 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:09,385 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:09,898 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:10,231 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:10,233 - src.rag.retriever - INFO - Found 4 unique document IDs in Qdrant
Building prefix dict from the default dictionary ...
2025-08-07 18:04:10,233 - jieba - DEBUG - Building prefix dict from the default dictionary ...
Loading model from cache /tmp/jieba.cache
2025-08-07 18:04:10,233 - jieba - DEBUG - Loading model from cache /tmp/jieba.cache
Loading model cost 0.444 seconds.
2025-08-07 18:04:10,677 - jieba - DEBUG - Loading model cost 0.444 seconds.
Prefix dict has been built successfully.
2025-08-07 18:04:10,677 - jieba - DEBUG - Prefix dict has been built successfully.
2025-08-07 18:04:10,677 - src.rag.query_parser - INFO - Added 4 document IDs to jieba dictionary
2025-08-07 18:04:10,677 - src.rag.retriever - INFO - ‚úÖ Bootstrapped jieba with 4 document IDs from Qdrant
2025-08-07 18:04:10,678 - __main__ - INFO - Server configuration:
2025-08-07 18:04:10,678 - __main__ - INFO -   Host: 0.0.0.0
2025-08-07 18:04:10,678 - __main__ - INFO -   Port: 5000
2025-08-07 18:04:10,678 - __main__ - INFO -   Debug: True
üöÄ Using GPU acceleration for embeddings
üîß Using Production LLM client: http://localhost:8000
‚úÖ SQLite fallback table exists
‚úÖ Qdrant client connected
üìã Existing collections: ['chat_messages', 'cat_rag', 'graphrag-test', 'prod1_chat', 'graphrag_collection', 'testStd', 'staging2', 'ËààËæ≤ÂÖ¨Âè∏_2', 'prod1_questions', 'ËààËæ≤ÂÖ¨Âè∏_3', 'prod1_rooms', 'None', 'prod1', 'docs', 'ËààËæ≤ÂÖ¨Âè∏', 'staging3', 'staging1']
‚úÖ Chat collection exists: prod1_chat
‚úÖ Created room_id index for chat collection
‚úÖ Rooms collection exists: prod1_rooms
‚úÖ Chat collection validated: 106 points
‚úÖ Rooms collection validated: 15 points
‚úÖ Document collection validated: 1308 points
‚úÖ All collections validated successfully
‚úÖ Document collection exists: prod1
‚úÖ Qdrant chat service initialized
üöÄ Starting Sinon-RAG API Server...
‚úÖ Set PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True
‚úÖ Successfully bootstrapped jieba with document IDs
‚úÖ Ensured directory exists: data
‚úÖ Ensured directory exists: data/uploads
‚úÖ Ensured directory exists: logs
 * Serving Flask app 'app'
 * Debug mode: on
2025-08-07 18:04:10,680 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.103.108:5000
2025-08-07 18:04:10,680 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-07 18:04:10,681 - werkzeug - INFO -  * Restarting with stat
Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-07 18:04:19,959 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:20,489 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:21,113 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:21,654 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:22,148 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:22,341 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/index?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:04:22,506 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:22,671 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat "HTTP/1.1 200 OK"
2025-08-07 18:04:22,837 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms "HTTP/1.1 200 OK"
2025-08-07 18:04:23,002 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1 "HTTP/1.1 200 OK"
2025-08-07 18:04:23,168 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-07 18:04:23,688 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 18:04:24,186 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:24,511 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:24,513 - src.rag.retriever - INFO - Found 4 unique document IDs in Qdrant
Building prefix dict from the default dictionary ...
2025-08-07 18:04:24,513 - jieba - DEBUG - Building prefix dict from the default dictionary ...
Loading model from cache /tmp/jieba.cache
2025-08-07 18:04:24,513 - jieba - DEBUG - Loading model from cache /tmp/jieba.cache
Loading model cost 0.417 seconds.
2025-08-07 18:04:24,930 - jieba - DEBUG - Loading model cost 0.417 seconds.
Prefix dict has been built successfully.
2025-08-07 18:04:24,931 - jieba - DEBUG - Prefix dict has been built successfully.
2025-08-07 18:04:24,931 - src.rag.query_parser - INFO - Added 4 document IDs to jieba dictionary
2025-08-07 18:04:24,931 - src.rag.retriever - INFO - ‚úÖ Bootstrapped jieba with 4 document IDs from Qdrant
2025-08-07 18:04:24,931 - __main__ - INFO - Server configuration:
2025-08-07 18:04:24,931 - __main__ - INFO -   Host: 0.0.0.0
2025-08-07 18:04:24,931 - __main__ - INFO -   Port: 5000
2025-08-07 18:04:24,931 - __main__ - INFO -   Debug: True
2025-08-07 18:04:24,933 - werkzeug - WARNING -  * Debugger is active!
2025-08-07 18:04:24,934 - werkzeug - INFO -  * Debugger PIN: 187-534-628
2025-08-07 18:04:33,646 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points "HTTP/1.1 200 OK"
üöÄ Using GPU acceleration for embeddings
üîß Using Production LLM client: http://localhost:8000
‚úÖ SQLite fallback table exists
‚úÖ Qdrant client connected
üìã Existing collections: ['chat_messages', 'cat_rag', 'graphrag-test', 'prod1_chat', 'graphrag_collection', 'testStd', 'staging2', 'ËààËæ≤ÂÖ¨Âè∏_2', 'prod1_questions', 'ËààËæ≤ÂÖ¨Âè∏_3', 'prod1_rooms', 'None', 'prod1', 'docs', 'ËààËæ≤ÂÖ¨Âè∏', 'staging3', 'staging1']
‚úÖ Chat collection exists: prod1_chat
‚úÖ Created room_id index for chat collection
‚úÖ Rooms collection exists: prod1_rooms
‚úÖ Chat collection validated: 106 points
‚úÖ Rooms collection validated: 15 points
‚úÖ Document collection validated: 1308 points
‚úÖ All collections validated successfully
‚úÖ Document collection exists: prod1
‚úÖ Qdrant chat service initialized
üöÄ Starting Sinon-RAG API Server...
‚úÖ Set PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True
‚úÖ Successfully bootstrapped jieba with document IDs
‚úÖ Ensured directory exists: data
‚úÖ Ensured directory exists: data/uploads
‚úÖ Ensured directory exists: logs
Batches:   0%|          | 0/1 [00:00<?, ?it/s]/home/rtx4500ada/anaconda3/envs/sinon/lib/python3.12/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `BertSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
BertSdpaSelfAttention is used but `torch.nn.functional.scaled_dot_product_attention` does not support non-absolute `position_embedding_type` or `output_attentions=True` or `head_mask`. Falling back to the manual attention implementation, but specifying the manual implementation will be required from Transformers version v5.0.0 onwards. This warning can be removed using the argument `attn_implementation="eager"` when loading the model.
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  5.63it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  5.63it/s]
2025-08-07 18:04:34,148 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 6f0e25f9-ddc2-422e-96c8-c49ad37e9966 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 212.35it/s]
2025-08-07 18:04:34,332 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:04:34,494 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:34,652 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:04:38,201 - routes.chat - INFO - üîÑ Original query: 'thanks for the help!'
2025-08-07 18:04:38,201 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ'
2025-08-07 18:04:38,206 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ
2025-08-07 18:04:38,206 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§Êòì ÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏ ‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß
2025-08-07 18:04:38,206 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 45 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 5019 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 3.5s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 138.55it/s]
2025-08-07 18:04:38,875 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:04:39,041 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:04:39,042 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 3669 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 5.5s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 122.80it/s]
2025-08-07 18:04:45,258 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message dde11658-faad-477a-a40b-13b028a0d190 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 222.73it/s]
2025-08-07 18:04:45,445 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:04:45,610 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:04:45,774 - werkzeug - INFO - 192.168.103.74 - - [07/Aug/2025 18:04:45] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:05:08,772 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:08] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:05:08,778 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:08] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:05:08,782 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:05:08,793 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:08] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:05:08,795 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:08] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:05:08,799 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:05:09,381 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,382 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,384 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:09] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:05:09,385 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,385 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,387 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:09] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:05:09,546 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,547 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:05:09,547 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:05:09,547 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:09] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:05:09,548 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:09,548 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:05:09,548 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:05:09,548 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:09] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:05:10,515 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:10] "OPTIONS /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:05:10,680 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:10,837 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:10] "GET /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
üîç Qdrant Chat history: 46 messages
üîç Final Chat history: 20 messages
üîç Qdrant Chat history: 46 messages
üîç Final Chat history: 46 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 62.90it/s]
2025-08-07 18:05:13,441 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 3c8e062e-c40c-4cd9-97fb-40a85594bc12 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 202.55it/s]
2025-08-07 18:05:13,627 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:05:13,790 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:13,948 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:05:16,429 - routes.chat - INFO - üîÑ Original query: 'ËÇ°Êù±ÊúÉÁöÑË≠∞Á®ãÁî±Ëë£‰∫ãÊúÉË®ÇÂÆöÔºåÂÖ¨Âè∏Â¶Ç‰ΩïÁ¢∫‰øùÁõ∏ÈóúË≠∞Ê°àÂæóÂà∞ÂÖÖÂàÜË®éË´ñÔºü'
2025-08-07 18:05:16,429 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ËÇ°Êù±ÊúÉË≠∞‰æùÊú¨Ë¶èÂâáË°å‰πã„ÄÇÊú¨Ë¶èÂâáÊú™Ë¶èÂÆö‰∫ãÈ†ÖÔºåÊÇâ‰æùÊ≥ï‰ª§ÊàñÂÖ¨Âè∏Á´†Á®ã‰πãË¶èÂÆöËæ¶ÁêÜ„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨32È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩÂèóËÆìÊú™‰æùÂ•ëÁ¥ÑÈ†êÂÆöÊó•Á®ãÂÆåÊàê„ÄÇ3.ÂéüÂÖ¨ÂëäÁî≥Â†±ÂÖßÂÆπÊúâËÆäÊõ¥„ÄÇ

Ê†π'
2025-08-07 18:05:16,429 - src.rag.retriever - INFO - Original query: Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ËÇ°Êù±ÊúÉË≠∞‰æùÊú¨Ë¶èÂâáË°å‰πã„ÄÇÊú¨Ë¶èÂâáÊú™Ë¶èÂÆö‰∫ãÈ†ÖÔºåÊÇâ‰æùÊ≥ï‰ª§ÊàñÂÖ¨Âè∏Á´†Á®ã‰πãË¶èÂÆöËæ¶ÁêÜ„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨32È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩÂèóËÆìÊú™‰æùÂ•ëÁ¥ÑÈ†êÂÆöÊó•Á®ãÂÆåÊàê„ÄÇ3.ÂéüÂÖ¨ÂëäÁî≥Â†±ÂÖßÂÆπÊúâËÆäÊõ¥„ÄÇ

Ê†π
2025-08-07 18:05:16,429 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöDocument 1 () ÂÖ¨Âè∏ËÇ°Êù±ÊúÉË≠∞‰æùÊú¨Ë¶èÂâáË°å‰πã Êú¨Ë¶èÂâáÊú™Ë¶èÂÆö‰∫ãÈ†Ö ÊÇâ‰æùÊ≥ï‰ª§ÊàñÂÖ¨Âè∏Á´†Á®ã‰πãË¶èÂÆöËæ¶ÁêÜ Ê†πÊìöDocument 2 () ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥ ÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã 2.Âêà‰Ωµ ÂàÜÂâ≤ Êî∂Ë≥ºÊàñËÇ°‰ªΩÂèóËÆìÊú™‰æùÂ•ëÁ¥ÑÈ†êÂÆöÊó•Á®ãÂÆåÊàê 3.ÂéüÂÖ¨ÂëäÁî≥Â†±ÂÖßÂÆπÊúâËÆäÊõ¥ Ê†π
2025-08-07 18:05:16,429 - src.rag.retriever - INFO - Extracted constraints: {'pages': [32, 73]}
üîç Qdrant Chat history: 47 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 5090 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.5s
üîç Searching for: 'Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ËÇ°Êù±ÊúÉË≠∞‰æùÊú¨Ë¶èÂâáË°å‰πã„ÄÇÊú¨Ë¶èÂâáÊú™Ë¶èÂÆö‰∫ãÈ†ÖÔºåÊÇâ‰æùÊ≥ï‰ª§ÊàñÂÖ¨Âè∏Á´†Á®ã‰πãË¶èÂÆöËæ¶ÁêÜ„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨32È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩÂèóËÆìÊú™‰æùÂ•ëÁ¥ÑÈ†êÂÆöÊó•Á®ãÂÆåÊàê„ÄÇ3.ÂéüÂÖ¨ÂëäÁî≥Â†±ÂÖßÂÆπÊúâËÆäÊõ¥„ÄÇ

Ê†π'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 159.30it/s]
2025-08-07 18:05:17,075 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:05:17,237 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:05:17,238 - src.rag.retriever - INFO - üîç dense=10 keyword=0 ‚Üí 4 unique hits [constraints: {'pages': [32, 73]}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 3463 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 6.3s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 153.84it/s]
2025-08-07 18:05:24,232 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 979d8330-9a97-4227-8d50-050ee9acfd32 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 241.82it/s]
2025-08-07 18:05:24,416 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:05:24,576 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:05:24,735 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:05:24] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:06:03,322 - src.data.pdf_summarizer - INFO - üìÑ Starting PDF summarization for: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561163_2025Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20250313).pdf
2025-08-07 18:06:03,347 - src.data.pdf_summarizer - INFO - üìä Extracted 2104 characters from 26 pages
2025-08-07 18:06:03,347 - src.data.pdf_summarizer - INFO - üìä Content analysis: 2104 chars ‚âà 526 estimated tokens
2025-08-07 18:06:03,347 - src.data.pdf_summarizer - INFO - üìä Small content (526 estimated tokens), using direct summarization
2025-08-07 18:06:03,347 - src.data.pdf_summarizer - INFO - ü§ñ Generating medium summary using LLM...
2025-08-07 18:06:03,347 - src.data.pdf_summarizer - INFO - üìä Input text length: 2104 chars
2025-08-07 18:06:03,348 - src.data.pdf_summarizer - INFO - üìä System prompt length: 234 chars
2025-08-07 18:06:03,348 - src.data.pdf_summarizer - INFO - üìä User prompt length: 2148 chars
2025-08-07 18:06:03,348 - src.data.pdf_summarizer - INFO - üîß LLM options: {'temperature': 0.3, 'max_length': 1024}
2025-08-07 18:06:16,191 - src.data.pdf_summarizer - INFO - ‚úÖ LLM call completed successfully: 1224 chars returned
2025-08-07 18:06:16,191 - src.data.pdf_summarizer - INFO - ‚úÖ Summary generated successfully: 1224 characters
2025-08-07 18:06:16,191 - src.data.pdf_summarizer - INFO - ‚úÖ Generated summary: 1224 chars (compression: 58.17%)
üîç Qdrant Chat history: 48 messages
üîç Final Chat history: 20 messages
üìÑ Processing PDF file: 2025Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20250313).pdf
üíæ Saved PDF temporarily to: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561163_2025Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20250313).pdf
üîÑ Analyzing and summarizing PDF: 2025Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20250313).pdf
üìÑ Medium PDF (3.5MB), generating summary...
üìÑ Extracting text from 26 pages...
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 234 chars
      user_prompt: 2148 chars
        options: {'temperature': 0.3, 'max_length': 1024}
    timeout: 60.0s
<<< LLM call completed in 12.8s
‚úÖ Generated summary: 1224 chars from 2104 original chars
üóëÔ∏è Cleaned up temporary file: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561163_2025Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20250313).pdf
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 127.08it/s]
2025-08-07 18:06:16,892 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 904de755-a7a0-4d98-9ec0-55943b602cfc to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 242.32it/s]
2025-08-07 18:06:17,077 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:06:17,239 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:06:17,398 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:06:19,878 - routes.chat - INFO - üîÑ Original query: 'Ë´ãÂπ´ÊàëÊï¥ÁêÜÂÖßÂÆπÂ§ßÁ∂±'
2025-08-07 18:06:19,878 - routes.chat - INFO - üîÑ Rewritten query: 'ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºËÇ°Êù±ÊúÉË≠∞ÁöÑË≠∞Á®ãÁî±Ëë£‰∫ãÊúÉË®ÇÂÆöÔºåÂÖ¨Âè∏Â¶Ç‰ΩïÁ¢∫‰øùÁõ∏ÈóúË≠∞Ê°àÂæóÂà∞ÂÖÖÂàÜË®éË´ñÔºü

ÂÖ¨Âè∏ÊáâË©≤ÂÖÖÂàÜËÄÉÈáèÁç®Á´ãËë£‰∫ã‰πãÊÑèË¶ãÔºåÁ¢∫‰øùËë£‰∫ãÊúÉÁöÑÊ±∫Á≠ñÈÅéÁ®ãÈÄèÊòéÂíåÂÖ¨Âπ≥„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πã'
2025-08-07 18:06:19,879 - src.rag.retriever - INFO - Original query: ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºËÇ°Êù±ÊúÉË≠∞ÁöÑË≠∞Á®ãÁî±Ëë£‰∫ãÊúÉË®ÇÂÆöÔºåÂÖ¨Âè∏Â¶Ç‰ΩïÁ¢∫‰øùÁõ∏ÈóúË≠∞Ê°àÂæóÂà∞ÂÖÖÂàÜË®éË´ñÔºü

ÂÖ¨Âè∏ÊáâË©≤ÂÖÖÂàÜËÄÉÈáèÁç®Á´ãËë£‰∫ã‰πãÊÑèË¶ãÔºåÁ¢∫‰øùËë£‰∫ãÊúÉÁöÑÊ±∫Á≠ñÈÅéÁ®ãÈÄèÊòéÂíåÂÖ¨Âπ≥„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πã
2025-08-07 18:06:19,879 - src.rag.retriever - INFO - Cleaned query: ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§Êòì ÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏ ‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß ÂÖ¨Âè∏Â∞çÊñºËÇ°Êù±ÊúÉË≠∞ÁöÑË≠∞Á®ãÁî±Ëë£‰∫ãÊúÉË®ÇÂÆö ÂÖ¨Âè∏Â¶Ç‰ΩïÁ¢∫‰øùÁõ∏ÈóúË≠∞Ê°àÂæóÂà∞ÂÖÖÂàÜË®éË´ñÔºü ÂÖ¨Âè∏ÊáâË©≤ÂÖÖÂàÜËÄÉÈáèÁç®Á´ãËë£‰∫ã‰πãÊÑèË¶ã Á¢∫‰øùËë£‰∫ãÊúÉÁöÑÊ±∫Á≠ñÈÅéÁ®ãÈÄèÊòéÂíåÂÖ¨Âπ≥ ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πã
2025-08-07 18:06:19,879 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 49 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 5153 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.5s
üîç Searching for: 'ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºËÇ°Êù±ÊúÉË≠∞ÁöÑË≠∞Á®ãÁî±Ëë£‰∫ãÊúÉË®ÇÂÆöÔºåÂÖ¨Âè∏Â¶Ç‰ΩïÁ¢∫‰øùÁõ∏ÈóúË≠∞Ê°àÂæóÂà∞ÂÖÖÂàÜË®éË´ñÔºü

ÂÖ¨Âè∏ÊáâË©≤ÂÖÖÂàÜËÄÉÈáèÁç®Á´ãËë£‰∫ã‰πãÊÑèË¶ãÔºåÁ¢∫‰øùËë£‰∫ãÊúÉÁöÑÊ±∫Á≠ñÈÅéÁ®ãÈÄèÊòéÂíåÂÖ¨Âπ≥„ÄÇ

ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πã'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 172.48it/s]
2025-08-07 18:06:20,549 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:06:20,724 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:06:20,726 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
üìÑ Using uploaded PDF content for response generation
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 5325 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 13.7s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 71.14it/s]
2025-08-07 18:06:35,117 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message ae15161f-0d4d-40e1-963b-f59f68ab088c to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 237.21it/s]
2025-08-07 18:06:35,308 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:06:35,475 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:06:35,637 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:06:35] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:07:54,605 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:07:54] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:07:54,610 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:07:55,142 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:07:55,302 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:07:55,303 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:07:55,303 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:07:55,303 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:07:55] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
üîç Qdrant Chat history: 50 messages
üîç Final Chat history: 20 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 64.51it/s]
2025-08-07 18:10:06,152 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message bff41531-cc52-4614-95f4-ca88aa09f852 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 230.05it/s]
2025-08-07 18:10:06,338 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:10:06,502 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:10:06,661 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:10:09,220 - routes.chat - INFO - üîÑ Original query: 'Ê∏¨Ë©¶'
2025-08-07 18:10:09,220 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ï'
2025-08-07 18:10:09,221 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ï
2025-08-07 18:10:09,222 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§Êòì ÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏ ‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß Ê†πÊìöDocument 1 () ÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ã ‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è ËíêÈõÜË≥áÊñôÂèäÁµêË´ñ Ë©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ï
2025-08-07 18:10:09,222 - src.rag.retriever - INFO - Extracted constraints: {'pages': [73]}
üîç Qdrant Chat history: 51 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 5882 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.6s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏Â∞çÊñº‰º∞ÂÉπÁµêÊûúËàá‰∫§ÊòìÈáëÈ°çÂ∑ÆË∑ùÈÅî‰∫§ÊòìÈáëÈ°ç‰πãÁôæÂàÜ‰πã‰∫åÂçÅ‰ª•‰∏äÁöÑ‰∫§ÊòìÔºåÈúÄË¶ÅÈÄ≤Ë°åÈÄ≤‰∏ÄÊ≠•ÁöÑË©ï‰º∞ÂíåÂØ©Ê†∏Ôºå‰ª•Á¢∫‰øù‰∫§ÊòìÁöÑÂÖ¨Âπ≥ÊÄßÂíåÂêàÁêÜÊÄß„ÄÇ

Ê†πÊìöDocument 1 (Á¨¨73È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ï'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 151.99it/s]
2025-08-07 18:10:09,864 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:10:10,025 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:10:10,025 - src.rag.retriever - INFO - üîç dense=7 keyword=0 ‚Üí 2 unique hits [constraints: {'pages': [73]}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 3732 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 6.4s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 169.16it/s]
2025-08-07 18:10:17,058 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message ffa1192f-2c62-4032-b12b-47e1876ae2c2 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 237.19it/s]
2025-08-07 18:10:17,250 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:10:17,412 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:10:17,571 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:10:17] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:10:30,890 - src.data.pdf_summarizer - INFO - üìÑ Extracting PDF text for chat: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561430_2023Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20230315).pdf
üîç Qdrant Chat history: 52 messages
üîç Final Chat history: 20 messages
üìÑ Processing PDF file: 2023Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20230315).pdf
üíæ Saved PDF temporarily to: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561430_2023Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20230315).pdf
üîÑ Analyzing and summarizing PDF: 2023Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20230315).pdf
üìÑ Small PDF (0.9MB), extracting full text...
üìÑ Extracting text from 15 pages...
‚úÖ Extracted text: 1763 chars from 15 pages
üóëÔ∏è Cleaned up temporary file: /home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/../../../data/uploads/1754561430_2023Âπ¥Q1Ê≥ïË™™ÊúÉÁ∞°Â†±-‰∏≠Êñá(20230315).pdf
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 209.83it/s]
2025-08-07 18:10:31,555 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 6b6b59d0-19a4-4646-bf53-b4f02ce67e58 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 220.37it/s]
2025-08-07 18:10:31,737 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:10:31,899 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:10:32,057 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:10:34,697 - routes.chat - INFO - üîÑ Original query: 'Ë´ãÂπ´ÊàëÊï¥ÁêÜÂÖßÂÆπÂ§ßÁ∂±'
2025-08-07 18:10:34,697 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂÖßÂÆπÂ§ßÁ∂±ÂåÖÊã¨ÂÖ¨Âè∏Á∞°‰ªã„ÄÅÂÖ¨Âè∏Ê≤ªÁêÜ„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÈ†òÂüü„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÊàêÊûú„ÄÅË≤°ÂãôÊëòË¶Å„ÄÅÁç≤Âà©ËÉΩÂäõ„ÄÅË≤†ÂÇµÊØîÂíåËÇ°Âà©ÂàÜÊ¥æÁ≠âÊñπÈù¢„ÄÇ

ÂÖ¨Âè∏Á∞°‰ªãÂåÖÊã¨‰ºÅÊ•≠ÂêçÁ®±„ÄÅÊàêÁ´ãÊó•Êúü„ÄÅËÇ°Á•®‰∏äÂ∏ÇÊôÇÈñì„ÄÅÂÖ¨Âè∏Á∏ΩÈÉ®‰ΩçÁΩÆ„ÄÅË≤†Ë≤¨‰∫∫ÂíåÂÖ¨Âè∏Ë≥áÊú¨È°çÁ≠â„ÄÇ

ÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÂú® 2014 Âπ¥Ëá≥ 2022 Âπ¥ÈñìÊåÅÁ∫åÂÑ™ÂåñÔºåÊà™Ëá≥ 2024 Âπ¥ÔºåÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÈÅîÂà∞ÊúÄ‰Ω≥Á¥öË∑ùÔºå'
2025-08-07 18:10:34,698 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂÖßÂÆπÂ§ßÁ∂±ÂåÖÊã¨ÂÖ¨Âè∏Á∞°‰ªã„ÄÅÂÖ¨Âè∏Ê≤ªÁêÜ„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÈ†òÂüü„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÊàêÊûú„ÄÅË≤°ÂãôÊëòË¶Å„ÄÅÁç≤Âà©ËÉΩÂäõ„ÄÅË≤†ÂÇµÊØîÂíåËÇ°Âà©ÂàÜÊ¥æÁ≠âÊñπÈù¢„ÄÇ

ÂÖ¨Âè∏Á∞°‰ªãÂåÖÊã¨‰ºÅÊ•≠ÂêçÁ®±„ÄÅÊàêÁ´ãÊó•Êúü„ÄÅËÇ°Á•®‰∏äÂ∏ÇÊôÇÈñì„ÄÅÂÖ¨Âè∏Á∏ΩÈÉ®‰ΩçÁΩÆ„ÄÅË≤†Ë≤¨‰∫∫ÂíåÂÖ¨Âè∏Ë≥áÊú¨È°çÁ≠â„ÄÇ

ÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÂú® 2014 Âπ¥Ëá≥ 2022 Âπ¥ÈñìÊåÅÁ∫åÂÑ™ÂåñÔºåÊà™Ëá≥ 2024 Âπ¥ÔºåÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÈÅîÂà∞ÊúÄ‰Ω≥Á¥öË∑ùÔºå
2025-08-07 18:10:34,698 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂÖßÂÆπÂ§ßÁ∂±ÂåÖÊã¨ÂÖ¨Âè∏Á∞°‰ªã ÂÖ¨Âè∏Ê≤ªÁêÜ ‰∫ãÊ•≠ÁôºÂ±ïÈ†òÂüü ‰∫ãÊ•≠ÁôºÂ±ïÊàêÊûú Ë≤°ÂãôÊëòË¶Å Áç≤Âà©ËÉΩÂäõ Ë≤†ÂÇµÊØîÂíåËÇ°Âà©ÂàÜÊ¥æÁ≠âÊñπÈù¢ ÂÖ¨Âè∏Á∞°‰ªãÂåÖÊã¨‰ºÅÊ•≠ÂêçÁ®± ÊàêÁ´ãÊó•Êúü ËÇ°Á•®‰∏äÂ∏ÇÊôÇÈñì ÂÖ¨Âè∏Á∏ΩÈÉ®‰ΩçÁΩÆ Ë≤†Ë≤¨‰∫∫ÂíåÂÖ¨Âè∏Ë≥áÊú¨È°çÁ≠â ÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÂú® 2014 Âπ¥Ëá≥ 2022 Âπ¥ÈñìÊåÅÁ∫åÂÑ™Âåñ Êà™Ëá≥ 2024 Âπ¥ ÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÈÅîÂà∞ÊúÄ‰Ω≥Á¥öË∑ù
2025-08-07 18:10:34,698 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 53 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 5856 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.6s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂÖßÂÆπÂ§ßÁ∂±ÂåÖÊã¨ÂÖ¨Âè∏Á∞°‰ªã„ÄÅÂÖ¨Âè∏Ê≤ªÁêÜ„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÈ†òÂüü„ÄÅ‰∫ãÊ•≠ÁôºÂ±ïÊàêÊûú„ÄÅË≤°ÂãôÊëòË¶Å„ÄÅÁç≤Âà©ËÉΩÂäõ„ÄÅË≤†ÂÇµÊØîÂíåËÇ°Âà©ÂàÜÊ¥æÁ≠âÊñπÈù¢„ÄÇ

ÂÖ¨Âè∏Á∞°‰ªãÂåÖÊã¨‰ºÅÊ•≠ÂêçÁ®±„ÄÅÊàêÁ´ãÊó•Êúü„ÄÅËÇ°Á•®‰∏äÂ∏ÇÊôÇÈñì„ÄÅÂÖ¨Âè∏Á∏ΩÈÉ®‰ΩçÁΩÆ„ÄÅË≤†Ë≤¨‰∫∫ÂíåÂÖ¨Âè∏Ë≥áÊú¨È°çÁ≠â„ÄÇ

ÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÂú® 2014 Âπ¥Ëá≥ 2022 Âπ¥ÈñìÊåÅÁ∫åÂÑ™ÂåñÔºåÊà™Ëá≥ 2024 Âπ¥ÔºåÂÖ¨Âè∏Ê≤ªÁêÜÁµêÊßãÈÅîÂà∞ÊúÄ‰Ω≥Á¥öË∑ùÔºå'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 170.78it/s]
2025-08-07 18:10:35,366 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:10:35,532 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:10:35,533 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
üìÑ Using uploaded PDF content for response generation
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 6769 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 16.2s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 43.85it/s]
2025-08-07 18:10:52,502 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message cbe6f4df-ef7c-4128-a169-25fbd6307549 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 234.25it/s]
2025-08-07 18:10:52,699 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:10:52,864 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:10:53,030 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:10:53] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:12:23,286 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:12:23] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:12:23,290 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:12:23,876 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:12:24,043 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:12:24,044 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:12:24,044 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:12:24,045 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:12:24] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:12:37,223 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:12:37] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:12:37,228 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:12:37,723 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:12:37,889 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:12:37,890 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:12:37,890 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:12:37,890 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:12:37] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
üîç Qdrant Chat history: 54 messages
üîç Final Chat history: 20 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 72.03it/s]
2025-08-07 18:15:46,838 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 307949ca-5126-42cf-b008-16c3ab5a33a9 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 223.23it/s]
2025-08-07 18:15:47,033 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:15:47,196 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:15:47,355 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:15:50,071 - routes.chat - INFO - üîÑ Original query: 'ÂëäË®¥ÊàëËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®'
2025-08-07 18:15:50,071 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöDocument 1 (Á¨¨35È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ïÁ®ø„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨8È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩ'
2025-08-07 18:15:50,072 - src.rag.retriever - INFO - Original query: Ê†πÊìöDocument 1 (Á¨¨35È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ïÁ®ø„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨8È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩ
2025-08-07 18:15:50,072 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöDocument 1 () ÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ã ‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è ËíêÈõÜË≥áÊñôÂèäÁµêË´ñ Ë©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ïÁ®ø Ê†πÊìöDocument 2 () ÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥ ÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã 2.Âêà‰Ωµ ÂàÜÂâ≤ Êî∂Ë≥ºÊàñËÇ°‰ªΩ
2025-08-07 18:15:50,072 - src.rag.retriever - INFO - Extracted constraints: {'pages': [8, 35]}
üîç Qdrant Chat history: 55 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 6858 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.7s
üîç Searching for: 'Ê†πÊìöDocument 1 (Á¨¨35È†Å)ÔºåÂÖ¨Âè∏ÊáâË©≤Â¶•ÂñÑË¶èÂäÉÂèäÂü∑Ë°åÈÅ©Áï∂‰ΩúÊ•≠ÊµÅÁ®ãÔºå‰ª•ÂΩ¢ÊàêÁµêË´ñ‰∏¶Êìö‰ª•Âá∫ÂÖ∑Â†±ÂëäÊàñÊÑèË¶ãÊõ∏Ôºõ‰∏¶Â∞áÊâÄÂü∑Ë°åÁ®ãÂ∫è„ÄÅËíêÈõÜË≥áÊñôÂèäÁµêË´ñÔºåË©≥ÂØ¶ÁôªËºâÊñºÊ°à‰ª∂Â∑•‰ΩúÂ∫ïÁ®ø„ÄÇ

Ê†πÊìöDocument 2 (Á¨¨8È†Å)ÔºåÂÖ¨Âè∏Â∞çÊñºÂÖ¨‰ΩàÁõ∏Èóú‰∫ãÈ†ÖÊúâ‰ª•‰∏ãË¶èÂÆöÔºö1.Âéü‰∫§ÊòìÁ∞ΩË®Ç‰πãÁõ∏ÈóúÂ•ëÁ¥ÑÊúâËÆäÊõ¥„ÄÅÁµÇÊ≠¢ÊàñËß£Èô§ÊÉÖ‰∫ã„ÄÇ2.Âêà‰Ωµ„ÄÅÂàÜÂâ≤„ÄÅÊî∂Ë≥ºÊàñËÇ°‰ªΩ'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 174.86it/s]
2025-08-07 18:15:50,736 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:15:50,903 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:15:50,904 - src.rag.retriever - INFO - üîç dense=12 keyword=0 ‚Üí 3 unique hits [constraints: {'pages': [8, 35]}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 5009 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 9.2s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 114.79it/s]
2025-08-07 18:16:00,749 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 0ab02ab9-a8c9-4cbc-bf8e-74eac264e0a9 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 232.00it/s]
2025-08-07 18:16:00,941 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:16:01,103 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:16:01,262 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:16:01] "POST /api/chat/message HTTP/1.1" 200 -
üîç Qdrant Chat history: 56 messages
üîç Final Chat history: 20 messages
üÜï Creating new room for content: ÂëäË®¥ÊàëËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®...
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 66 chars
      user_prompt: 494 chars
        options: {'temperature': 0.3, 'max_tokens': 20}
<<< LLM call completed in 0.2s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 96.09it/s]
2025-08-07 18:17:01,988 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
‚úÖ Created room ff3e953f with title: Ë≤°ÂãôÂ†±Ë°®Êü•Ë©¢
‚úÖ Created room ff3e953f with title: Ë≤°ÂãôÂ†±Ë°®Êü•Ë©¢
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 211.76it/s]
2025-08-07 18:17:02,167 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 03c51dd0-a79c-4fa0-ae3f-9b301dc5a517 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 244.49it/s]
2025-08-07 18:17:02,363 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:17:02,531 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:17:02,532 - routes.chat - INFO - üîç Chat history: 1 messages
2025-08-07 18:17:02,669 - routes.chat - INFO - üîÑ Original query: 'ÂëäË®¥ÊàëËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®'
2025-08-07 18:17:02,669 - routes.chat - INFO - üîÑ Rewritten query: 'ËøëÂπæÂπ¥ÂÖ¨Âè∏Ë≤°ÂãôÂ†±Ë°®'
2025-08-07 18:17:02,670 - src.rag.query_parser - INFO - Extracted doc_ids: ['Ë≤°ÂãôÂ†±Ë°®']
2025-08-07 18:17:02,670 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≤°ÂãôÂ†±Ë°®'
2025-08-07 18:17:02,670 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): []
2025-08-07 18:17:02,670 - src.rag.retriever - INFO - Original query: ËøëÂπæÂπ¥ÂÖ¨Âè∏Ë≤°ÂãôÂ†±Ë°®
2025-08-07 18:17:02,670 - src.rag.retriever - INFO - Cleaned query: ËøëÂπæÂπ¥ÂÖ¨Âè∏
2025-08-07 18:17:02,670 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': [], 'content_types': ['table_record']}
üîç Qdrant Chat history: 1 messages
üîç Final Chat history: 1 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 92 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 0.1s
üîç Searching for: 'ËøëÂπæÂπ¥ÂÖ¨Âè∏Ë≤°ÂãôÂ†±Ë°®'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 206.36it/s]
2025-08-07 18:17:03,312 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:17:03,485 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:17:03,486 - src.rag.retriever - INFO - üîç dense=1 keyword=0 ‚Üí 1 unique hits [constraints: {'doc_ids': [], 'content_types': ['table_record']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 367 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 1.4s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 188.16it/s]
2025-08-07 18:17:05,220 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 8607531f-eb36-4e41-a2b8-9677fe1a4fe0 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 223.88it/s]
2025-08-07 18:17:05,413 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:17:05,580 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:17:05,582 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:17:05] "POST /api/chat/message HTTP/1.1" 200 -
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üÜï Creating new room for content: ‰ªäÂπ¥ÊòØ2024Âπ¥Ë´ãÂëäË®¥ÊàëÊî∂ÁõäÂ¶Ç‰Ωï...
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 66 chars
      user_prompt: 499 chars
        options: {'temperature': 0.3, 'max_tokens': 20}
<<< LLM call completed in 0.2s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 78.29it/s]
2025-08-07 18:21:26,332 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
‚úÖ Created room e83a6a58 with title: 2024Âπ¥ÊäïË≥áÊî∂ÁõäË®éË´ñ
‚úÖ Created room e83a6a58 with title: 2024Âπ¥ÊäïË≥áÊî∂ÁõäË®éË´ñ
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 203.85it/s]
2025-08-07 18:21:26,511 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message a57e9509-6468-4efd-93ae-a906686ef026 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 252.70it/s]
2025-08-07 18:21:26,709 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:21:26,875 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:21:26,876 - routes.chat - INFO - üîç Chat history: 1 messages
2025-08-07 18:21:27,000 - routes.chat - INFO - üîÑ Original query: '‰ªäÂπ¥ÊòØ2024Âπ¥Ë´ãÂëäË®¥ÊàëÊî∂ÁõäÂ¶Ç‰Ωï'
2025-08-07 18:21:27,000 - routes.chat - INFO - üîÑ Rewritten query: '2024Âπ¥ÊäïË≥áÊî∂ÁõäÊÉÖÊ≥Å'
2025-08-07 18:21:27,000 - src.rag.retriever - INFO - Original query: 2024Âπ¥ÊäïË≥áÊî∂ÁõäÊÉÖÊ≥Å
2025-08-07 18:21:27,000 - src.rag.retriever - INFO - Cleaned query: 2024Âπ¥ÊäïË≥áÊî∂ÁõäÊÉÖÊ≥Å
2025-08-07 18:21:27,000 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 1 messages
üîç Final Chat history: 1 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 102 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 0.1s
üîç Searching for: '2024Âπ¥ÊäïË≥áÊî∂ÁõäÊÉÖÊ≥Å'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 202.74it/s]
2025-08-07 18:21:27,665 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:21:27,833 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:21:27,834 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 2159 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 6.0s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 153.18it/s]
2025-08-07 18:21:34,631 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 4bd7b608-15f8-467d-bb04-1bdc3c03bb82 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 230.56it/s]
2025-08-07 18:21:34,815 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:21:34,977 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:21:34,980 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:21:34] "POST /api/chat/message HTTP/1.1" 200 -
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üÜï Creating new room for content: ‰ªäÂπ¥ÊäïË≥á‰∫ÜÂì™‰∫õÈ†ÖÁõÆ...
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 66 chars
      user_prompt: 492 chars
        options: {'temperature': 0.3, 'max_tokens': 20}
<<< LLM call completed in 0.2s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 98.18it/s]
2025-08-07 18:22:15,622 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
‚úÖ Created room cd42f312 with title: ÊäïË≥áË®àÁï´ÂàÜ‰∫´ËàáË®éË´ñ
‚úÖ Created room cd42f312 with title: ÊäïË≥áË®àÁï´ÂàÜ‰∫´ËàáË®éË´ñ
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 222.58it/s]
2025-08-07 18:22:15,796 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message b6c99278-cec8-4dcd-8309-a1fb56388621 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 246.19it/s]
2025-08-07 18:22:15,987 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:22:16,148 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:22:16,149 - routes.chat - INFO - üîç Chat history: 1 messages
2025-08-07 18:22:16,261 - routes.chat - INFO - üîÑ Original query: '‰ªäÂπ¥ÊäïË≥á‰∫ÜÂì™‰∫õÈ†ÖÁõÆ'
2025-08-07 18:22:16,261 - routes.chat - INFO - üîÑ Rewritten query: '‰ªäÂπ¥ÊäïËµÑ‰∫ÜÂì™‰∫õÈ°πÁõÆ'
2025-08-07 18:22:16,261 - src.rag.retriever - INFO - Original query: ‰ªäÂπ¥ÊäïËµÑ‰∫ÜÂì™‰∫õÈ°πÁõÆ
2025-08-07 18:22:16,261 - src.rag.retriever - INFO - Cleaned query: ‰ªäÂπ¥ÊäïËµÑ‰∫ÜÂì™‰∫õÈ°πÁõÆ
2025-08-07 18:22:16,261 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 1 messages
üîç Final Chat history: 1 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 88 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 0.1s
üîç Searching for: '‰ªäÂπ¥ÊäïËµÑ‰∫ÜÂì™‰∫õÈ°πÁõÆ'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 208.24it/s]
2025-08-07 18:22:16,923 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:22:17,090 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:22:17,091 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 1047 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 3.3s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 158.66it/s]
2025-08-07 18:22:20,811 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 82787d85-9f27-4619-b9fd-41762a840a48 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 253.49it/s]
2025-08-07 18:22:21,001 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:22:21,162 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:22:21,164 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:22:21] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:23:15,644 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:15] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:15,645 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:15] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:15,650 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:15] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:15,652 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:15] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:15,655 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:15,666 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:16,162 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,163 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,165 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,166 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:16] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:16,167 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,168 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:16] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:16,328 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,329 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:23:16,329 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:23:16,329 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:16] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:16,332 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:16,332 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:23:16,332 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:23:16,333 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:16] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:19,289 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:19] "OPTIONS /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:23:19,459 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:19,461 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:19] "GET /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:23:23,158 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:23] "OPTIONS /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:23:23,327 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:23,329 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:23] "GET /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:23:26,441 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:26] "OPTIONS /api/chat/histories/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:23:26,610 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:26,611 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:26] "GET /api/chat/histories/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:23:30,326 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:30] "OPTIONS /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:23:30,497 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:30,499 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:30] "GET /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:23:32,441 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:32] "OPTIONS /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:23:32,610 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:32,612 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:32] "GET /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:23:45,354 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:45] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:45,359 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:45,838 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:45,997 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:45,998 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:23:45,998 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:23:45,998 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:45] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:50,767 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:50] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:50,774 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:50] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:50,778 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:50,783 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:50] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:50,784 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:50] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:50,788 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:50,939 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,098 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,098 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:23:51,099 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:23:51,099 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:51] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:51,266 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,267 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,267 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,270 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:51] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:51,270 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:51] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:23:51,427 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:23:51,427 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:23:51,427 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:23:51,428 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:51] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:59,497 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:23:59] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:23:59,501 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:23:59,978 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:00,139 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:00,140 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:00,140 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:00,141 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:00] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:02,603 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:02] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:02,606 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:02] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:02,610 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:02,616 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:02] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:02,618 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:02] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:02,622 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:02,771 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:02,931 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:02,931 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:02,931 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:02,932 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:02] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:03,103 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:03,106 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:03] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:03,110 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:03,122 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:03,169 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:03] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:03,270 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:03,271 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:03,271 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:03,271 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:03] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:06,342 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:06] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:06,347 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:06,507 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:06,668 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:06,669 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:06,669 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:06,669 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:06] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:12,606 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:12] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:12,611 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:12] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:12,616 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:12,620 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:12] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:12,621 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:12] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:12,628 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:13,098 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,108 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,109 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,112 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:13] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:13,118 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,165 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:13] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:13,258 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,259 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:13,259 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:13,259 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:13] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:13,268 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:13,311 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:13,311 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:13,311 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:13] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:15,988 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:15] "OPTIONS /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:16,158 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:16,160 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:16] "GET /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:17,600 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:17] "OPTIONS /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:17,770 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:17,772 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:17] "GET /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:44,563 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:44] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:44,568 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:44] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:44,572 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:44,576 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:44] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:44,577 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:44] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:44,581 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:24:45,122 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,123 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,125 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:45] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:45,126 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:45] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:45,130 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,131 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,300 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,301 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:45,301 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:45,301 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:45,302 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:45] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:45,339 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:24:45,339 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:24:45,339 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:45] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:24:47,063 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:47] "OPTIONS /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:47,228 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:47,230 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:47] "GET /api/chat/histories/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:48,563 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:48] "OPTIONS /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:24:48,727 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:48,730 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:48] "GET /api/chat/histories/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:24:50,309 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:50] "OPTIONS /api/chat/rooms/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:50,475 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:50,638 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:50,652 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:50] "DELETE /api/chat/rooms/cd42f312-ca72-40bf-adda-044e80b57ccc HTTP/1.1" 200 -
2025-08-07 18:24:50,683 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:50] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:50,856 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:50,858 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:50] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:52,993 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:52] "OPTIONS /api/chat/rooms/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:24:53,158 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:53,321 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:53,343 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:53] "DELETE /api/chat/rooms/e83a6a58-a031-4fff-ae72-b04ed8d425d4 HTTP/1.1" 200 -
2025-08-07 18:24:53,375 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:53] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:53,539 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:53,541 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:53] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:55,804 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:55] "OPTIONS /api/chat/histories/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:24:55,968 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:55,969 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:55] "GET /api/chat/histories/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:24:57,433 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:57] "OPTIONS /api/chat/rooms/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:24:57,599 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:57,762 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/delete?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:24:57,782 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:57] "DELETE /api/chat/rooms/ff3e953f-a348-49ee-aad1-11db30e7fdff HTTP/1.1" 200 -
2025-08-07 18:24:57,806 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:57] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:57,973 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:24:57,974 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:57] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:24:59,767 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:24:59] "OPTIONS /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:24:59,934 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:25:00,097 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:25:00] "GET /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:25:14,469 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:25:14] "OPTIONS /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:25:14,969 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:25:15,134 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:25:15] "GET /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üóëÔ∏è Deleted 2 messages from SQLite fallback for room cd42f312
üóëÔ∏è Deleted room cd42f312 and all its messages
üóëÔ∏è Deleted 2 messages from SQLite fallback for room e83a6a58
üóëÔ∏è Deleted room e83a6a58 and all its messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üóëÔ∏è Deleted 2 messages from SQLite fallback for room ff3e953f
üóëÔ∏è Deleted room ff3e953f and all its messages
üîç Qdrant Chat history: 56 messages
üîç Final Chat history: 50 messages
üîç Qdrant Chat history: 56 messages
üîç Final Chat history: 50 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 67.36it/s]
2025-08-07 18:25:23,747 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 8990ea3f-dc2c-4990-98c7-d616d45850d2 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 219.06it/s]
2025-08-07 18:25:23,950 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:25:24,115 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:25:24,278 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:25:27,093 - routes.chat - INFO - üîÑ Original query: 'ÂëäË®¥ÊàëËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®'
2025-08-07 18:25:27,093 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2023'
2025-08-07 18:25:27,094 - src.rag.query_parser - INFO - Extracted doc_ids: ['Ë≤°ÂãôÂ†±Ë°®']
2025-08-07 18:25:27,094 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≤°ÂãôÂ†±Ë°®'
2025-08-07 18:25:27,094 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): []
2025-08-07 18:25:27,094 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2023
2025-08-07 18:25:27,094 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ËøëÂπæÂπ¥ÁöÑÂ¶Ç‰∏ãÔºö **ÁáüÊ•≠Êî∂ÂÖ•** * 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ **ÁáüÊ•≠ÊØõÂà©** * 2023 Âπ¥Ôºö52.0% * 2024 Âπ¥Ôºö55.7% **ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©** * 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ **Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò** * 2023
2025-08-07 18:25:27,094 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': [], 'content_types': ['table_record']}
üîç Qdrant Chat history: 57 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 7118 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.8s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ËøëÂπæÂπ¥ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2023'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 200.62it/s]
2025-08-07 18:25:27,756 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:25:27,922 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:25:27,923 - src.rag.retriever - INFO - üîç dense=2 keyword=0 ‚Üí 2 unique hits [constraints: {'doc_ids': [], 'content_types': ['table_record']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 4956 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 4.1s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 202.87it/s]
2025-08-07 18:25:32,750 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message b079f417-ef85-431c-9981-0a459fc1a556 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 239.26it/s]
2025-08-07 18:25:32,940 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:25:33,108 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:25:33,273 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:25:33] "POST /api/chat/message HTTP/1.1" 200 -
üîç Qdrant Chat history: 58 messages
üîç Final Chat history: 20 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 68.72it/s]
2025-08-07 18:26:07,052 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message d443e07a-0f70-4d14-b728-4f2e9cb57ec6 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 226.65it/s]
2025-08-07 18:26:07,248 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:26:07,416 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:26:07,580 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:26:10,380 - routes.chat - INFO - üîÑ Original query: 'ÂëäË®¥Êàë2024Âπ¥ÁöÑÊî∂Áõä'
2025-08-07 18:26:10,380 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑ2024Âπ¥Ë≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2024 Âπ¥Ôºö2.50 ÂÖÉ

**ÊØõÂà©Áéá**

* 2024 Âπ¥Ôºö29.4%

**ÁáüÊ•≠Âà©ÁõäÁéá**

* 2024 Âπ¥Ôºö'
2025-08-07 18:26:10,381 - src.rag.query_parser - INFO - Extracted doc_ids: ['Ë≤°ÂãôÂ†±Ë°®']
2025-08-07 18:26:10,381 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≤°ÂãôÂ†±Ë°®'
2025-08-07 18:26:10,381 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): []
2025-08-07 18:26:10,381 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑ2024Âπ¥Ë≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2024 Âπ¥Ôºö2.50 ÂÖÉ

**ÊØõÂà©Áéá**

* 2024 Âπ¥Ôºö29.4%

**ÁáüÊ•≠Âà©ÁõäÁéá**

* 2024 Âπ¥Ôºö
2025-08-07 18:26:10,381 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑ2024Âπ¥Â¶Ç‰∏ãÔºö **ÁáüÊ•≠Êî∂ÂÖ•** * 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ **ÁáüÊ•≠ÊØõÂà©** * 2024 Âπ¥Ôºö55.7% **ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©** * 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ **Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò** * 2024 Âπ¥Ôºö2.50 ÂÖÉ **ÊØõÂà©Áéá** * 2024 Âπ¥Ôºö29.4% **ÁáüÊ•≠Âà©ÁõäÁéá** * 2024 Âπ¥Ôºö
2025-08-07 18:26:10,381 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': [], 'content_types': ['table_record']}
üîç Qdrant Chat history: 59 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 6773 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.8s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑ2024Âπ¥Ë≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

**Âü∫Êú¨ÊØèËÇ°ÁõàÈ§ò**

* 2024 Âπ¥Ôºö2.50 ÂÖÉ

**ÊØõÂà©Áéá**

* 2024 Âπ¥Ôºö29.4%

**ÁáüÊ•≠Âà©ÁõäÁéá**

* 2024 Âπ¥Ôºö'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 197.09it/s]
2025-08-07 18:26:11,052 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:26:11,217 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:26:11,218 - src.rag.retriever - INFO - üîç dense=3 keyword=0 ‚Üí 2 unique hits [constraints: {'doc_ids': [], 'content_types': ['table_record']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 4773 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 3.8s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 217.36it/s]
2025-08-07 18:26:15,652 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message e03aa40e-c79c-4712-baab-94317c9eebaa to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 243.68it/s]
2025-08-07 18:26:15,841 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:26:16,003 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:26:16,162 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:26:16] "POST /api/chat/message HTTP/1.1" 200 -
üîç Qdrant Chat history: 60 messages
üîç Final Chat history: 20 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 217.25it/s]
2025-08-07 18:26:22,902 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message ee7ad78c-8bf2-4ed3-8df1-8289a219d78c to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 233.64it/s]
2025-08-07 18:26:23,085 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:26:23,249 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:26:23,408 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-07 18:26:26,138 - routes.chat - INFO - üîÑ Original query: 'ÂëäË®¥Êàë2024Âπ¥ÁöÑÊî∂Áõä'
2025-08-07 18:26:26,138 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±'
2025-08-07 18:26:26,139 - src.rag.query_parser - INFO - Extracted doc_ids: ['Ë≤°ÂãôÂ†±Ë°®']
2025-08-07 18:26:26,139 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≤°ÂãôÂ†±Ë°®'
2025-08-07 18:26:26,139 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): []
2025-08-07 18:26:26,139 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±
2025-08-07 18:26:26,139 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂ¶Ç‰∏ãÔºö **ÁáüÊ•≠Êî∂ÂÖ•** * 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ **ÁáüÊ•≠ÊØõÂà©** * 2023 Âπ¥Ôºö52.0% * 2024 Âπ¥Ôºö55.7% **ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©** * 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ Ê†πÊìöDocument 1 () ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±
2025-08-07 18:26:26,139 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': [], 'pages': [6], 'content_types': ['table_record']}
üîç Qdrant Chat history: 61 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 6691 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.7s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 204.66it/s]
2025-08-07 18:26:26,801 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:26:26,966 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:26:26,967 - src.rag.retriever - INFO - üîç dense=4 keyword=0 ‚Üí 2 unique hits [constraints: {'doc_ids': [], 'pages': [6], 'content_types': ['table_record']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 3899 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 5.5s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 180.62it/s]
2025-08-07 18:26:33,119 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 3e7b6f67-ba28-4d2c-a085-86db6be6d0de to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 238.77it/s]
2025-08-07 18:26:33,307 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:26:33,468 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:26:33,628 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:26:33] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:28:21,781 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:21] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:28:21,786 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:21] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:28:21,791 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:28:21,795 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:21] "OPTIONS /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:28:21,796 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:21] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:28:21,803 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:28:22,283 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,284 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,284 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,287 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:22] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:28:22,288 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:22] "GET /api/chat/rooms HTTP/1.1" 200 -
2025-08-07 18:28:22,325 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,446 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,447 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:28:22,447 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:28:22,447 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:22] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:28:22,485 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:28:22,486 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:28:22,486 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:28:22,487 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:28:22] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
üîç Qdrant Chat history: 62 messages
üîç Final Chat history: 20 messages
üÜï Creating new room for content: Ê∏¨Ë©¶...
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 66 chars
      user_prompt: 485 chars
        options: {'temperature': 0.3, 'max_tokens': 20}
<<< LLM call completed in 0.1s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 130.20it/s]
2025-08-07 18:29:19,084 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
‚úÖ Created room 7aa46f1c with title: Ê∏¨Ë©¶Ë®éË´ñ
‚úÖ Created room 7aa46f1c with title: Ê∏¨Ë©¶Ë®éË´ñ
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 235.66it/s]
2025-08-07 18:29:19,256 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message c852afaf-e914-4e49-b44c-4235c7b59e08 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 246.07it/s]
2025-08-07 18:29:19,447 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:29:19,607 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:29:19,609 - routes.chat - INFO - üîç Chat history: 1 messages
2025-08-07 18:29:19,662 - routes.chat - INFO - üîÑ Original query: 'Ê∏¨Ë©¶'
2025-08-07 18:29:19,662 - routes.chat - INFO - üîÑ Rewritten query: 'Ê∏¨Ë©¶'
2025-08-07 18:29:19,663 - src.rag.retriever - INFO - Original query: Ê∏¨Ë©¶
2025-08-07 18:29:19,663 - src.rag.retriever - INFO - Cleaned query: Ê∏¨Ë©¶
2025-08-07 18:29:19,663 - src.rag.retriever - INFO - Extracted constraints: {}
üîç Qdrant Chat history: 1 messages
üîç Final Chat history: 1 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 74 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 0.1s
üîç Searching for: 'Ê∏¨Ë©¶'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 162.99it/s]
2025-08-07 18:29:20,306 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:29:20,466 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:29:20,466 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 1454 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 5.7s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 147.28it/s]
2025-08-07 18:29:27,023 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 12d5444f-6698-409b-874b-5de63004c581 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 233.03it/s]
2025-08-07 18:29:27,220 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:29:27,387 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:29:27,390 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:29:27] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:31:26,311 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:31:26] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:31:26,330 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:31:26,823 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:31:26,984 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:31:26,985 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:31:26,985 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:31:26,986 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:31:26] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:31:59,996 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:31:59] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:00,001 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:32:00,503 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:00,668 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:00,669 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:32:00,669 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:32:00,670 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:00] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:12,472 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:12] "OPTIONS /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:32:12,959 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:13,118 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:13] "GET /api/chat/histories/03c7f58a-fe13-4230-a196-c50e1298eaa0 HTTP/1.1" 200 -
2025-08-07 18:32:26,411 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:26] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:26,415 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:32:26,898 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:27,058 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:27,059 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:32:27,059 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:32:27,059 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:27] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:43,794 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:43] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:43,799 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:32:44,301 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:44,462 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:44,464 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:32:44,464 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:32:44,464 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:44] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:55,013 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:55] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:55,018 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:32:55,499 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:55,659 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:55,660 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:32:55,660 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:32:55,660 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:55] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:57,820 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:57] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:32:57,824 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:32:57,984 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:58,143 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:32:58,144 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:32:58,144 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:32:58,144 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:32:58] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:05,546 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:05] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:05,549 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:33:06,047 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:06,213 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:06,214 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:33:06,214 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:33:06,214 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:06] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:10,520 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:10] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:10,524 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:33:10,691 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:10,856 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:10,856 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:33:10,856 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:33:10,857 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:10] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:11,075 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:11] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:11,078 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:33:11,244 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:11,410 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:11,410 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:33:11,410 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:33:11,411 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:11] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:33:39,177 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:39] "OPTIONS /api/chat/histories/62f5ce61-1cc2-42af-982f-12b0ea028d19 HTTP/1.1" 200 -
2025-08-07 18:33:39,660 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:39,663 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:39] "GET /api/chat/histories/62f5ce61-1cc2-42af-982f-12b0ea028d19 HTTP/1.1" 200 -
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
üîç Qdrant Chat history: 62 messages
üîç Final Chat history: 50 messages
üîç Qdrant Chat history: 2 messages
üîç Final Chat history: 2 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 70.70it/s]
2025-08-07 18:33:43,857 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message af629d21-ed66-468c-ab83-06c32b19591b to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 221.45it/s]
2025-08-07 18:33:44,050 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:33:44,210 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:44,211 - routes.chat - INFO - üîç Chat history: 3 messages
2025-08-07 18:33:44,991 - routes.chat - INFO - üîÑ Original query: '123'
2025-08-07 18:33:44,991 - routes.chat - INFO - üîÑ Rewritten query: 'SELECT * FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531.pdf WHERE Êî∂ÊîØÈ°ûÂûã = 'Á±åË≥áÊ¥ªÂãï‰πãÊ∑®ÁèæÈáëÊµÅÂÖ•(Âá∫)' AND Âπ¥Â∫¶ = '112''
2025-08-07 18:33:44,992 - src.rag.query_parser - INFO - Extracted doc_ids: ["240531.pdf WHERE Êî∂ÊîØÈ°ûÂûã = 'Á±åË≥áÊ¥ªÂãï‰πãÊ∑®ÁèæÈáëÊµÅÂÖ•(Âá∫)' AND Âπ¥Â∫¶ = '112'", ' FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531.pdf', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531.pdf', 'Ë≠∞‰∫ãÊâãÂÜä']
2025-08-07 18:33:44,992 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≠∞‰∫ãÊâãÂÜä'
2025-08-07 18:33:44,992 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): ['240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531']
2025-08-07 18:33:44,992 - src.rag.retriever - INFO - Original query: SELECT * FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531.pdf WHERE Êî∂ÊîØÈ°ûÂûã = 'Á±åË≥áÊ¥ªÂãï‰πãÊ∑®ÁèæÈáëÊµÅÂÖ•(Âá∫)' AND Âπ¥Â∫¶ = '112'
2025-08-07 18:33:44,992 - src.rag.retriever - INFO - Cleaned query: SELECT * FROM 113Âπ¥ 20
2025-08-07 18:33:44,992 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': ['240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531']}
üîç Qdrant Chat history: 3 messages
üîç Final Chat history: 3 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 1703 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 0.8s
üîç Searching for: 'SELECT * FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531.pdf WHERE Êî∂ÊîØÈ°ûÂûã = 'Á±åË≥áÊ¥ªÂãï‰πãÊ∑®ÁèæÈáëÊµÅÂÖ•(Âá∫)' AND Âπ¥Â∫¶ = '112''
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 196.80it/s]
2025-08-07 18:33:44,999 - src.rag.retriever - INFO - Using document ID constraints: ['240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531']
2025-08-07 18:33:45,732 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:33:45,732 - src.rag.retriever - INFO - No results with doc_id constraints, trying without them...
2025-08-07 18:33:45,893 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:33:45,894 - src.rag.retriever - INFO - Found 15 results without doc_id constraints
2025-08-07 18:33:46,054 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-07 18:33:46,055 - src.rag.retriever - INFO - üîç dense=15 keyword=0 ‚Üí 5 unique hits [constraints: {'doc_ids': ['240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531', 'FROM 113Âπ¥Ë≠∞‰∫ãÊâãÂÜä 20240531']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 2773 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 5.7s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 152.23it/s]
2025-08-07 18:33:52,460 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 595d43eb-1cf8-4923-aeb3-e281983f0320 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 228.86it/s]
2025-08-07 18:33:52,662 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-07 18:33:52,827 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:33:52,829 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:33:52] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-07 18:34:27,968 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:34:27] "OPTIONS /api/v1/suggestions?k=3 HTTP/1.1" 200 -
2025-08-07 18:34:27,972 - routes.suggestions - INFO - üé≤ No doc_id or room_id provided, retrieving 3 random suggestions
2025-08-07 18:34:28,452 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:34:28,611 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_questions/points/scroll "HTTP/1.1 200 OK"
2025-08-07 18:34:28,611 - src.rag.suggestions.catalog - INFO - üé≤ Retrieved 3 random suggestions
2025-08-07 18:34:28,611 - routes.suggestions - INFO - ‚úÖ Retrieved 3 random suggestions
2025-08-07 18:34:28,612 - werkzeug - INFO - 192.168.103.149 - - [07/Aug/2025 18:34:28] "GET /api/v1/suggestions?k=3 HTTP/1.1" 200 -
üîç Qdrant Chat history: 4 messages
üîç Final Chat history: 4 messages
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 71.01it/s]
2025-08-08 08:52:15,292 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message 17badb13-fdf5-40f4-90f6-7e979ce219f9 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 220.18it/s]
2025-08-08 08:52:15,486 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-08 08:52:15,653 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-08 08:52:15,816 - routes.chat - INFO - üîç Chat history: 20 messages
2025-08-08 08:52:18,565 - routes.chat - INFO - üîÑ Original query: 'test'
2025-08-08 08:52:18,565 - routes.chat - INFO - üîÑ Rewritten query: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±'
2025-08-08 08:52:18,566 - src.rag.query_parser - INFO - Extracted doc_ids: ['Ë≤°ÂãôÂ†±Ë°®']
2025-08-08 08:52:18,566 - src.rag.query_parser - WARNING - Cleaned doc_id too short: 'Ë≤°ÂãôÂ†±Ë°®'
2025-08-08 08:52:18,566 - src.rag.query_parser - INFO - Final valid doc_ids (for Qdrant matching): []
2025-08-08 08:52:18,566 - src.rag.retriever - INFO - Original query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±
2025-08-08 08:52:18,566 - src.rag.retriever - INFO - Cleaned query: Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ ÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑÂ¶Ç‰∏ãÔºö **ÁáüÊ•≠Êî∂ÂÖ•** * 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ **ÁáüÊ•≠ÊØõÂà©** * 2023 Âπ¥Ôºö52.0% * 2024 Âπ¥Ôºö55.7% **ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©** * 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ * 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ Ê†πÊìöDocument 1 () ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±
2025-08-08 08:52:18,566 - src.rag.retriever - INFO - Extracted constraints: {'doc_ids': [], 'pages': [6], 'content_types': ['table_record']}
üîç Qdrant Chat history: 63 messages
üîç Final Chat history: 20 messages
üîß Using Production LLM client: http://localhost:8000
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 504 chars
      user_prompt: 6748 chars
        options: {'temperature': 0.0, 'max_tokens': 128}
    timeout: 30.0s
<<< LLM call completed in 2.7s
üîç Searching for: 'Ê†πÊìöËÅäÂ§©Ë®òÈåÑÂíåÁõ∏ÈóúÊñá‰ª∂ÔºåÊàëÂÄëÂèØ‰ª•ÁúãÂà∞ÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±Ë°®Â¶Ç‰∏ãÔºö

**ÁáüÊ•≠Êî∂ÂÖ•**

* 2023 Âπ¥Ôºö191.1 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö189.3 ÂÑÑÂÖÉ

**ÁáüÊ•≠ÊØõÂà©**

* 2023 Âπ¥Ôºö52.0%
* 2024 Âπ¥Ôºö55.7%

**ÊØçÂÖ¨Âè∏Ê•≠‰∏ªÊ∑®Âà©**

* 2023 Âπ¥Ôºö10.53 ÂÑÑÂÖÉ
* 2024 Âπ¥Ôºö10.49 ÂÑÑÂÖÉ

Ê†πÊìöDocument 1 (Á¨¨6È†Å)ÔºåÂÖ¨Âè∏ÁöÑË≤°ÂãôÂ†±'
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 188.95it/s]
2025-08-08 08:52:19,228 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-08 08:52:19,395 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/query "HTTP/1.1 200 OK"
2025-08-08 08:52:19,395 - src.rag.retriever - INFO - üîç dense=4 keyword=0 ‚Üí 2 unique hits [constraints: {'doc_ids': [], 'pages': [6], 'content_types': ['table_record']}]
>>> LLM call starting (model=hugging-quants/Meta-Llama-3.1-8B-Instruct-AWQ-INT4, client=production)
    system_prompt: 40 chars
      user_prompt: 3846 chars
        options: {'temperature': 0.4}
<<< LLM call completed in 3.9s
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 207.23it/s]
2025-08-08 08:52:23,975 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points?wait=true "HTTP/1.1 200 OK"
üíæ Saved message c17d0a70-d229-4f16-8035-8e2744c05c45 to Qdrant
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 230.71it/s]
2025-08-08 08:52:24,170 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms/points?wait=true "HTTP/1.1 200 OK"
2025-08-08 08:52:24,337 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/points/scroll "HTTP/1.1 200 OK"
2025-08-08 08:52:24,502 - werkzeug - INFO - 192.168.103.59 - - [08/Aug/2025 08:52:24] "POST /api/chat/message HTTP/1.1" 200 -
2025-08-08 09:29:52,630 - werkzeug - INFO -  * Detected change in '/home/rtx4500ada/llm-project/sinon-RAG/src/rag/retriever.py', reloading
üîç Qdrant Chat history: 64 messages
üîç Final Chat history: 20 messages
2025-08-08 09:29:53,797 - werkzeug - INFO -  * Restarting with stat
Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-08 09:30:02,979 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:03,494 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:04,139 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:04,700 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:05,180 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-08 09:30:05,370 - httpx - INFO - HTTP Request: PUT https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat/index?wait=true "HTTP/1.1 200 OK"
2025-08-08 09:30:05,530 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-08 09:30:05,690 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_chat "HTTP/1.1 200 OK"
2025-08-08 09:30:05,850 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1_rooms "HTTP/1.1 200 OK"
2025-08-08 09:30:06,010 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1 "HTTP/1.1 200 OK"
2025-08-08 09:30:06,170 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections "HTTP/1.1 200 OK"
2025-08-08 09:30:06,701 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:07,197 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-08 09:30:07,522 - httpx - INFO - HTTP Request: POST https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333/collections/prod1/points/scroll "HTTP/1.1 200 OK"
2025-08-08 09:30:07,524 - src.rag.retriever - INFO - Found 4 unique document IDs in Qdrant
Building prefix dict from the default dictionary ...
2025-08-08 09:30:07,524 - jieba - DEBUG - Building prefix dict from the default dictionary ...
Loading model from cache /tmp/jieba.cache
2025-08-08 09:30:07,524 - jieba - DEBUG - Loading model from cache /tmp/jieba.cache
Loading model cost 0.425 seconds.
2025-08-08 09:30:07,950 - jieba - DEBUG - Loading model cost 0.425 seconds.
Prefix dict has been built successfully.
2025-08-08 09:30:07,950 - jieba - DEBUG - Prefix dict has been built successfully.
2025-08-08 09:30:07,950 - src.rag.query_parser - INFO - Added 4 document IDs to jieba dictionary
2025-08-08 09:30:07,950 - src.rag.retriever - INFO - ‚úÖ Bootstrapped jieba with 4 document IDs from Qdrant
2025-08-08 09:30:07,950 - __main__ - INFO - Server configuration:
2025-08-08 09:30:07,950 - __main__ - INFO -   Host: 0.0.0.0
2025-08-08 09:30:07,950 - __main__ - INFO -   Port: 5000
2025-08-08 09:30:07,950 - __main__ - INFO -   Debug: True
2025-08-08 09:30:07,953 - werkzeug - WARNING -  * Debugger is active!
2025-08-08 09:30:07,953 - werkzeug - INFO -  * Debugger PIN: 187-534-628
2025-08-08 09:30:41,241 - werkzeug - INFO -  * Detected change in '/home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/chat.py', reloading
üöÄ Using GPU acceleration for embeddings
üîß Using Production LLM client: http://localhost:8000
‚úÖ SQLite fallback table exists
‚úÖ Qdrant client connected
üìã Existing collections: ['chat_messages', 'cat_rag', 'graphrag-test', 'prod1_chat', 'graphrag_collection', 'testStd', 'staging2', 'ËààËæ≤ÂÖ¨Âè∏_2', 'prod1_questions', 'ËààËæ≤ÂÖ¨Âè∏_3', 'prod1_rooms', 'None', 'prod1', 'docs', 'ËààËæ≤ÂÖ¨Âè∏', 'staging3', 'staging1']
‚úÖ Chat collection exists: prod1_chat
‚úÖ Created room_id index for chat collection
‚úÖ Rooms collection exists: prod1_rooms
‚úÖ Chat collection validated: 130 points
‚úÖ Rooms collection validated: 16 points
‚úÖ Document collection validated: 1308 points
‚úÖ All collections validated successfully
‚úÖ Document collection exists: prod1
‚úÖ Qdrant chat service initialized
üöÄ Starting Sinon-RAG API Server...
‚úÖ Set PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True
‚úÖ Successfully bootstrapped jieba with document IDs
‚úÖ Ensured directory exists: data
‚úÖ Ensured directory exists: data/uploads
‚úÖ Ensured directory exists: logs
2025-08-08 09:30:42,425 - werkzeug - INFO -  * Restarting with stat
Some weights of BertModel were not initialized from the model checkpoint at jinaai/jina-embeddings-v2-base-zh and are newly initialized: ['embeddings.position_embeddings.weight', 'encoder.layer.0.intermediate.dense.bias', 'encoder.layer.0.intermediate.dense.weight', 'encoder.layer.0.output.LayerNorm.bias', 'encoder.layer.0.output.LayerNorm.weight', 'encoder.layer.0.output.dense.bias', 'encoder.layer.0.output.dense.weight', 'encoder.layer.1.intermediate.dense.bias', 'encoder.layer.1.intermediate.dense.weight', 'encoder.layer.1.output.LayerNorm.bias', 'encoder.layer.1.output.LayerNorm.weight', 'encoder.layer.1.output.dense.bias', 'encoder.layer.1.output.dense.weight', 'encoder.layer.10.intermediate.dense.bias', 'encoder.layer.10.intermediate.dense.weight', 'encoder.layer.10.output.LayerNorm.bias', 'encoder.layer.10.output.LayerNorm.weight', 'encoder.layer.10.output.dense.bias', 'encoder.layer.10.output.dense.weight', 'encoder.layer.11.intermediate.dense.bias', 'encoder.layer.11.intermediate.dense.weight', 'encoder.layer.11.output.LayerNorm.bias', 'encoder.layer.11.output.LayerNorm.weight', 'encoder.layer.11.output.dense.bias', 'encoder.layer.11.output.dense.weight', 'encoder.layer.2.intermediate.dense.bias', 'encoder.layer.2.intermediate.dense.weight', 'encoder.layer.2.output.LayerNorm.bias', 'encoder.layer.2.output.LayerNorm.weight', 'encoder.layer.2.output.dense.bias', 'encoder.layer.2.output.dense.weight', 'encoder.layer.3.intermediate.dense.bias', 'encoder.layer.3.intermediate.dense.weight', 'encoder.layer.3.output.LayerNorm.bias', 'encoder.layer.3.output.LayerNorm.weight', 'encoder.layer.3.output.dense.bias', 'encoder.layer.3.output.dense.weight', 'encoder.layer.4.intermediate.dense.bias', 'encoder.layer.4.intermediate.dense.weight', 'encoder.layer.4.output.LayerNorm.bias', 'encoder.layer.4.output.LayerNorm.weight', 'encoder.layer.4.output.dense.bias', 'encoder.layer.4.output.dense.weight', 'encoder.layer.5.intermediate.dense.bias', 'encoder.layer.5.intermediate.dense.weight', 'encoder.layer.5.output.LayerNorm.bias', 'encoder.layer.5.output.LayerNorm.weight', 'encoder.layer.5.output.dense.bias', 'encoder.layer.5.output.dense.weight', 'encoder.layer.6.intermediate.dense.bias', 'encoder.layer.6.intermediate.dense.weight', 'encoder.layer.6.output.LayerNorm.bias', 'encoder.layer.6.output.LayerNorm.weight', 'encoder.layer.6.output.dense.bias', 'encoder.layer.6.output.dense.weight', 'encoder.layer.7.intermediate.dense.bias', 'encoder.layer.7.intermediate.dense.weight', 'encoder.layer.7.output.LayerNorm.bias', 'encoder.layer.7.output.LayerNorm.weight', 'encoder.layer.7.output.dense.bias', 'encoder.layer.7.output.dense.weight', 'encoder.layer.8.intermediate.dense.bias', 'encoder.layer.8.intermediate.dense.weight', 'encoder.layer.8.output.LayerNorm.bias', 'encoder.layer.8.output.LayerNorm.weight', 'encoder.layer.8.output.dense.bias', 'encoder.layer.8.output.dense.weight', 'encoder.layer.9.intermediate.dense.bias', 'encoder.layer.9.intermediate.dense.weight', 'encoder.layer.9.output.LayerNorm.bias', 'encoder.layer.9.output.LayerNorm.weight', 'encoder.layer.9.output.dense.bias', 'encoder.layer.9.output.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2025-08-08 09:30:51,439 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:51,951 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 09:30:52,579 - httpx - INFO - HTTP Request: GET https://a500a585-1564-4028-b4a8-aaf693267e9f.us-west-2-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/rtx4500ada/llm-project/sinon-RAG/src/API/run_api.py", line 13, in <module>
    from app import app
  File "/home/rtx4500ada/llm-project/sinon-RAG/src/API/app.py", line 18, in <module>
    from routes.chat import chat_bp
  File "/home/rtx4500ada/llm-project/sinon-RAG/src/API/routes/chat.py", line 294
    try:
    ^^^
IndentationError: expected an indented block after 'else' statement on line 292
üöÄ Using GPU acceleration for embeddings
üîß Using Production LLM client: http://localhost:8000
